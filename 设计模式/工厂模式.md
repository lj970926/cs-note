# 简单工厂模式
最朴素的想法，提供一个函数根据用户传入的参数创建对象。所创建的对象有公共的基类
```c++
std::shared_ptr<Product> GetProdect(std::string arg) {
	if (arg == "1") {
		return std::make_shared<ConcreateProduct1>();
	} else if (arg == "2") {
		return std::make_shared<ConcreateProduct2>();
	} else {
		throw("Unknown args");
	}
}
```
# 工厂方法模式
简单工厂模式对每个新的子类都需要一个新的分支，违反了开闭原则。工厂方法模式通过把工厂类也层次化，对每中产品子类都提供一个工厂子类负责创建对应子类。这样当添加新的产品子类时只需要扩展出一个新的工厂子类即可，无需改动现有逻辑。
```c++
class Product {
}

class ConcreteProduct1: public Product {

}

class ConcreateProduct2: public Product {

}

class Factory {
	virtual Product* getProduct() = 0;
}

class ConcreteFactory1: public Factory {
	virtual Product* getProduct() {
		return new ConcreteProduct1();
	}
}

class ConcreteFactory2: public Factory {
	virtual Product* getProduct() {
		return new ConcreteProduct2();
	}
}
```
# 抽象工厂模式
